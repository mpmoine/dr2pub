<!--
Ref: 
  - for XIOS : https://forge.ipsl.jussieu.fr/ioserver/wiki 
  - for XIAS (implementation in Surfex and Arpege) : http://www.cnrm-game-meteo.fr/cm/spip.php?article60

Declaration of a number of trip diags 

     Useful in order that XIOS does not complain even if some field is
     - not declared in another sourced xml file AND
     - is referenced in some other xml file

     Useful also to set attribute 'operation' to 'average', or to set
     the freq_op (sampling period)

     Field long name and units are not systematically declared here 
     because they should be declared by Surfex itself : the code is
     the best place for this type of metadata / documentation

     1st version : B. Decharme - 03/2017 : 
-->

<context id="trip">

  <variable_definition>
    <!-- Year of time origin for NetCDF files; defaults to 1850 -->
    <variable id="ref_year" type="int"> 1850 </variable>
  </variable_definition>

  <domain_definition>
    <domain id="trip_grid" />
  </domain_definition>    
  
  <field_definition  prec="8" domain_ref="trip_grid" default_value="1.e+20">  
    
    <field_group id="trip_fix">
      <field id="areacellr" long_name="Cell area for River model grid" unit="m2" />
    </field_group>
    
    <field_group id="trip_group1" >
      <field id="rivdis" 	long_name="River Outflow or discharge" 		unit="m3 s-1" />
      <field id="wtd" 		long_name="Water Table Depth (+ downward)" 	unit="m" />
      <field id="fldf" 		long_name="Floodplain fraction" 		unit="-" />
      <field id="tripwatbud" 	long_name="Total water budget as residue" 	unit="kg m-2" />
    </field_group>   
    
    <field_group id="trip_group2" >
      <field id="rivw" 		long_name="River water storage" 		unit="kg m-2" />
      <field id="drivw" 	long_name="Change in river storage" 		unit="kg m-2" />
      <field id="rivin" 	long_name="River Inflow" 			unit="m3 s-1" />
      <field id="rivh" 		long_name="River height" 			unit="m" />
      <field id="rivv" 		long_name="River velocity" 			unit="m s-1" />
      <field id="gw" 		long_name="Groundwater storage" 		unit="kg m-2" />
      <field id="dgw" 		long_name="Change in groundwater storage" 	unit="kg m-2" />
      <field id="qgwr" 		long_name="Groundwater recharge from soil" 	unit="kg m-2 s-1" />
      <field id="gwToriv" 	long_name="Groundwater-river exchange" 		unit="kg m-2 s-1" />
      <field id="gwh" 		long_name="Groundwater height from 0 altitude" 	unit="m" />
      <field id="fldw" 		long_name="Floodplain storage" 			unit="kg m-2" />
      <field id="fldh" 		long_name="Floodplain depth" 			unit="m" />
      <field id="RUNOFF" 	long_name="Input surface runoff" 		unit="kg m-2" />
      <field id="DRAIN" 	long_name="Input drainage or recharge" 		unit="kg m-2" />
      <field id="FSOURCE" 	long_name="Floodplains source (Pf-Ef-If)" 	unit="kg m-2" />
     </field_group>   

     <field_group id="trip_carb" >
      <field id="carbw" 	long_name="River carbon storage" 		unit="kgC m-2" />
      <field id="carbdis" 	long_name="River carbon Outflow or discharge" 	unit="kgC s-1" />
      <field id="carbin" 	long_name="River carbon inflow" 		unit="kgC s-1" />
      <field id="DOCFLUX" 	long_name="Input dissolved organic carbon" 	unit="kgC m-2" />
     </field_group>

     <field_group id="trip_misc" >
      <field id="rivbud" 	long_name="River water budget" 			unit="kg m-2" />
      <field id="gwbud" 	long_name="Groundwater budget" 			unit="kg m-2" />
      <field id="gwd" 		long_name="Groundwater depth (- downward)" 	unit="m" />
      <field id="gwdf" 		long_name="grid-cell fraction of gwd" 		unit="-" />
      <field id="gwfTocell" 	long_name="GW fluxes between adjacent cell" 	unit="kg m-2 s-1" />
      <field id="gwh_less_rivh" long_name="Hground - Hriver" 			unit="m" />
      <field id="dfldw" 	long_name="Change in floodplain storage" 	unit="kg m-2" />
      <field id="fldbud" 	long_name="Floodplains budget" 			unit="kg m-2" />
      <field id="fldToriv" 	long_name="fld-river exchange fluxes (+ in)" 	unit="kg m-2 s-1" />
      <field id="fldv" 		long_name="floodplains-river exchange velocity" unit="m s-1" />
      <field id="fldh_less_rivh" long_name="Hflood - Hriver" 			unit="m" />
      <field id="fld_width" 	long_name="Flood width" 			unit="m" />
      <field id="fld_length" 	long_name="Flood length" 			unit="m" />
     </field_group>
     
  </field_definition>
  
</context>
