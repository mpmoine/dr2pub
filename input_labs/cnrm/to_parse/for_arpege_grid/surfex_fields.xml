<!--
XIOS-2.0 xml sub-file for Surfex + Arpege

Ref: 
  - for XIOS : https://forge.ipsl.jussieu.fr/ioserver/wiki 
  - for XIAS (implementation in Surfex and Arpege) : http://www.cnrm-game-meteo.fr/cm/spip.php?article60

Declaration of a number of Surfex diags 

     Useful in order that XIOS does not complain even if some field is
     - not declared in another sourced xml file AND
     - is referenced in some other xml file

     Useful also to set attribute 'operation' to 'average', or to set
     the freq_op (sampling period)

     Field long name and units are not systematically declared here 
     because they should be declared by Surfex itself : the code is
     the best place for this type of metadata / documentation

     1st version : S.Senesi - 05/2016 : 
       derived form climate type runs without TEB, and with
       LALLOW_ADD_DIM=true/false ; Defines what is needed for typical CMIP5 
       Data Request
-->

<field_definition  prec="8">

  <field id="tas_min"     field_ref="tas"     operation="minimum"/>
  <field id="tas_max"     field_ref="tas"     operation="maximum"/> 
  <field id="sfcWind_max" field_ref="sfcWind" operation="maximum"/>

  <field_group detect_missing_value="true" >
    <field id="tsnl"/>
    <field id="lwsnl"/>
    <field id="snct"/>
    <field id="agesno"/>
    <field id="albsrfc_land"/>
    <field id="albsrfc_sea"/>
    <field id="sialb"/>
    <field id="albsrfc"/>
    <field id="albsn"/>
    <field id="wtd_isba"/>
    <field id="sisnthick"/>
    <field id="sithick"/>
    <field id="sialb"/>
    <field id="sitemptop"/>
  </field_group>

  <field_group id="sfx_fix" >
      <field field_ref="orog"/>
      <field field_ref="sftlf"/>
      <field field_ref="sftsf"/>
      <field field_ref="sftlaf"/>
  </field_group>
  <field_group id="sfx_global" >
      <field field_ref="ts"/>
      <field field_ref="rlds"/>
      <field field_ref="rlus"/>
      <field field_ref="rsus"/>
      <field field_ref="rsds"/>
      <field field_ref="albsrfc"/>
      <field field_ref="evspsbl"/>
      <field field_ref="hfls"/>
      <field field_ref="hfss"/>
      <field field_ref="tas"/>
      <field field_ref="tas_min" name="tasmin" freq_op="1d" />
      <field field_ref="tas_max" name="tasmax" freq_op="1d" />
      <field field_ref="uas"/>
      <field field_ref="vas"/>
      <field field_ref="sfcWind"/>
      <field field_ref="sfcWind_max" name="sfcWindmax" freq_op="1d" />
      <field field_ref="hurs"/>
      <field field_ref="huss"/>
      <field field_ref="tauu"/>
      <field field_ref="tauv"/>
  </field_group>
  <field_group id="sfx_land_3d" >
      <field field_ref="tsl"/>
  </field_group>
  <field_group id="sfx_land" >
      <field field_ref="et"/>
      <field field_ref="mrros"/>
      <field field_ref="mrro"/>
      <field field_ref="iceberg"/>
      <field field_ref="snmsl"/>
      <field field_ref="mrsos"/>
      <field field_ref="rzwc"/>
      <field field_ref="mrso"/>
      <field field_ref="mrfso"/>
      <field field_ref="tws"/>
      <field field_ref="mrsow"/>
      <field field_ref="vegstress"/>
      <field field_ref="fldplainfrac"/>
      <field field_ref="wtd_isba"/>
      <field field_ref="wtdf_isba"/>
      <field field_ref="dmlt"/>
      <field field_ref="dfr"/>
      <field field_ref="snd"/>
      <field field_ref="snc"/>
      <field field_ref="snct"/>
      <field field_ref="agesno"/>
      <field field_ref="ts_land"/>
      <field field_ref="albsrfc_land"/>
      <field field_ref="tsns"/>
      <field field_ref="tsn"/>
      <field field_ref="gpp"/>
      <field field_ref="npp"/>
      <field field_ref="watbud_isba"/>
      <field field_ref="nrjbuds_isba"/>
      <field field_ref="nrjbud_isba"/>
  </field_group>
  <field_group id="sfx_sea" >
      <field field_ref="ts_sea"/>
      <field field_ref="albsrfc_sea"/>
      <field field_ref="evspsbl_sea"/>
  </field_group>
  <field_group id="sfx_seaice" >
      <field field_ref="sitemptop"/>
      <field field_ref="sialb"/>
      <field field_ref="sic"/>
      <field field_ref="sithick"/>
  </field_group>
  <field_group id="sfx_lake" >
      <field field_ref="tsLa"/>
      <field field_ref="albsrfcLa"/>
      <field field_ref="evspsblLa"/>
  </field_group>
</field_definition>
